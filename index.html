<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Claude</title>
  <link rel="icon" type="image/png" sizes="200x200" href="/favicon.png" />
  <link rel="apple-touch-icon" href="/favicon.png" />
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Source+Serif+4:opsz,wght@8..60,300;400;500;600&family=Figtree:wght@300;400;500;600&family=Spectral:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;1,300&display=swap"
    rel="stylesheet">
  <style>
    :root {
      --bg-claude-main: #FAF9F5;
      --bg-claude-sidebar: #F9F8F3;
      --border-claude: #E8E7E3;
      --text-claude-main: #393939;
      --text-claude-secondary: #747474;
      --bg-claude-accent: #CC7C5E;
      --bg-claude-hover: #EFEFEC;
      --bg-claude-btn-hover: #EAE9E6;
      --bg-claude-input: #FFFFFF;
      --bg-claude-avatar: #333333;
      --text-claude-avatar: #FFFFFF;
    }

    .dark {
      --bg-claude-main: #262624;
      /* b */
      --bg-claude-sidebar: #242422;
      /* a */
      --border-claude: #323130;
      /* d */
      --text-claude-main: #FFFFFF;
      /* Invert to white */
      --text-claude-secondary: #A1A1AA;
      --bg-claude-accent: #CC7C5E;
      /* Keep accent */
      --bg-claude-hover: #141413;
      /* c */
      --bg-claude-btn-hover: #141413;
      /* c */
      --bg-claude-input: #30302E;
      /* c */
      --bg-claude-avatar: #FFFFFF;
      /* Invert */
      --text-claude-avatar: #222222;
      /* Invert */
      color-scheme: dark;
    }

    body {
      font-family: 'Figtree', sans-serif;
      background-color: var(--bg-claude-main);
      color: var(--text-claude-main);
      transition: background-color 0.3s ease, color 0.3s ease;
    }

    /* Global transition for theme changes */
    body,
    div,
    span,
    applet,
    object,
    iframe,
    h1,
    h2,
    h3,
    h4,
    h5,
    h6,
    p,
    blockquote,
    pre,
    a,
    abbr,
    acronym,
    address,
    big,
    cite,
    code,
    del,
    dfn,
    em,
    img,
    ins,
    kbd,
    q,
    s,
    samp,
    small,
    strike,
    strong,
    sub,
    sup,
    tt,
    var,
    b,
    u,
    i,
    center,
    dl,
    dt,
    dd,
    ol,
    ul,
    li,
    fieldset,
    form,
    label,
    legend,
    table,
    caption,
    tbody,
    tfoot,
    thead,
    tr,
    th,
    td,
    article,
    aside,
    canvas,
    details,
    embed,
    figure,
    figcaption,
    footer,
    header,
    hgroup,
    menu,
    nav,
    output,
    ruby,
    section,
    summary,
    time,
    mark,
    audio,
    video,
    button,
    input,
    textarea {
      transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease, fill 0.3s ease, stroke 0.3s ease;
    }

    .font-serif-claude {
      font-family: 'Source Serif 4', serif;
    }

    /* Custom scrollbar for sidebar */
    .sidebar-scroll::-webkit-scrollbar {
      width: 6px;
    }

    .sidebar-scroll::-webkit-scrollbar-track {
      background: transparent;
    }

    /* Thumb hidden by default */
    .sidebar-scroll::-webkit-scrollbar-thumb {
      background-color: transparent;
      border-radius: 4px;
      transition: background-color 0.2s;
    }

    /* Thumb visible on hover - simulates "show when scrolling" feeling */
    .sidebar-scroll:hover::-webkit-scrollbar-thumb {
      background-color: var(--text-claude-secondary);
      opacity: 0.5;
    }

    .sidebar-scroll:hover::-webkit-scrollbar-thumb:hover {
      background-color: var(--text-claude-main);
      opacity: 0.7;
    }

    /* Dark mode sidebar scrollbar override */
    /* Dark mode sidebar scrollbar override - Hidden by default */
    html.dark .sidebar-scroll::-webkit-scrollbar-thumb {
      background-color: transparent !important;
    }

    html.dark .sidebar-scroll:hover::-webkit-scrollbar-thumb {
      background-color: #4A4A4A !important;
      opacity: 0.8;
    }

    html.dark .sidebar-scroll:hover::-webkit-scrollbar-thumb:hover {
      background-color: #5A5A5A !important;
      opacity: 1;
    }

    /* Markdown Styles */
    .markdown-body p {
      margin-bottom: 1em;
      line-height: 1.6;
      color: var(--text-claude-main);
    }

    .markdown-body h1,
    .markdown-body h2,
    .markdown-body h3,
    .markdown-body h4,
    .markdown-body h5,
    .markdown-body h6 {
      margin-top: 1.5em;
      margin-bottom: 0.5em;
      font-weight: 600;
      color: var(--text-claude-main);
    }

    .markdown-body ul,
    .markdown-body ol {
      margin-bottom: 1em;
      padding-left: 1.5em;
      list-style-type: disc;
      color: var(--text-claude-main);
    }

    .markdown-body pre {
      background-color: var(--bg-claude-input);
      padding: 1em;
      border-radius: 8px;
      overflow-x: auto;
      margin-bottom: 1em;
      font-family: monospace;
      border: 1px solid var(--border-claude);
    }

    .markdown-body code {
      background-color: var(--bg-claude-hover);
      padding: 0.2em 0.4em;
      border-radius: 4px;
      font-size: 0.9em;
      color: var(--text-claude-main);
    }

    .markdown-body pre code {
      background-color: transparent;
      padding: 0;
      color: inherit;
    }

    /* Standard inline code (overrides specific utility classes) */
    .inline-code {
      background-color: rgba(0, 0, 0, 0.05) !important;
      border-color: rgb(208, 207, 204) !important;
      color: rgb(132, 33, 35) !important;
    }

    /* Dark Mode inline code override */
    html.dark .inline-code {
      background-color: rgb(46, 46, 43) !important;
      border-color: rgb(56, 55, 52) !important;
      color: rgb(234, 134, 130) !important;
    }

    /* Sidebar specific dark mode text color override */
    html.dark .bg-claude-sidebar {
      color: rgb(190, 189, 180) !important;
    }

    html.dark .bg-claude-sidebar button {
      color: rgb(190, 189, 180);
    }

    html.dark .bg-claude-sidebar .text-claude-text {
      color: rgb(190, 189, 180) !important;
    }

    html.dark .bg-claude-sidebar button:hover,
    html.dark .bg-claude-sidebar button:hover .text-claude-text,
    html.dark .bg-claude-sidebar .group:hover .text-claude-text {
      color: #FFFFFF !important;
    }

    /* KaTeX display math: contain within parent to prevent layout breakage */
    .katex-display {
      overflow-x: auto;
      overflow-y: hidden;
      max-width: 100%;
      text-align: center;
    }

    .katex-display>.katex {
      white-space: normal !important;
      color: var(--text-claude-main);
    }

    .katex-display>.katex>.katex-html {
      max-width: 100%;
      overflow-x: auto;
      overflow-y: hidden;
      padding: 2px 0;
    }

    /* 细滚动条 */


    /* Global scrollbar fallback - WebKit */
    ::-webkit-scrollbar {
      width: 6px;
    }

    ::-webkit-scrollbar-track {
      background: transparent;
    }

    /* Light Mode Default */
    ::-webkit-scrollbar-thumb {
      background: rgba(128, 128, 128, 0.2);
      border-radius: 3px;
    }

    ::-webkit-scrollbar-thumb:hover {
      background: rgba(128, 128, 128, 0.4);
    }

    /* Dark Mode Global Override - High Specificity */
    html.dark ::-webkit-scrollbar-thumb {
      background: #555555 !important;
      border: 1px solid #333333 !important;
    }

    html.dark ::-webkit-scrollbar-thumb:hover {
      background: #777777 !important;
    }

    /* Standard Scrollbar Properties (Firefox) */
    * {
      scrollbar-width: thin;
      scrollbar-color: rgba(128, 128, 128, 0.2) transparent;
    }

    html.dark * {
      scrollbar-color: #424242 transparent;
    }

    /* 入场动画 - 从左到右渐入 */
    @keyframes slideInLeft {
      from {
        opacity: 0;
        transform: translateX(-30px);
      }

      to {
        opacity: 1;
        transform: translateX(0);
      }
    }

    .animate-slide-in {
      animation: slideInLeft 0.6s ease-out forwards;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
      }

      to {
        opacity: 1;
      }
    }

    .animate-fade-in {
      animation: fadeIn 0.3s ease-in-out forwards;
    }

    @keyframes compactProgress {
      0% {
        width: 0%;
      }

      50% {
        width: 80%;
      }

      100% {
        width: 100%;
      }
    }

    /* CHAT SCROLLBAR STYLES - Forced Priority */
    .chat-scroll::-webkit-scrollbar {
      width: 14px !important;
    }

    .chat-scroll::-webkit-scrollbar-track {
      background: transparent !important;
      background-image: none !important;
      /* Removed gradient to simplify theme support */
    }

    .chat-scroll::-webkit-scrollbar-thumb {
      background-color: var(--bg-claude-btn-hover) !important;
      border-radius: 6px !important;
      border: 4px solid transparent !important;
      background-clip: content-box !important;
    }

    .chat-scroll::-webkit-scrollbar-thumb:hover {
      background-color: var(--text-claude-secondary) !important;
    }

    /* Chat scrollbar dark override */
    html.dark .chat-scroll::-webkit-scrollbar-thumb {
      background-color: #555555 !important;
      border: 2px solid transparent !important;
      background-clip: content-box !important;
    }

    html.dark .chat-scroll::-webkit-scrollbar-thumb:hover {
      background-color: #777777 !important;
    }

    /* CHAT FONT SETTINGS - Scoped to .chat-font-scope */

    /* Default - Serif */
    html[data-chat-font="default"] .chat-font-scope {
      font-family: 'Source Serif 4', serif;
    }

    /* Sans */
    html[data-chat-font="sans"] .chat-font-scope {
      font-family: 'Figtree', sans-serif;
    }

    /* System */
    html[data-chat-font="system"] .chat-font-scope {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
    }

    /* Dyslexic Friendly - Use OpenDyslexic if available, fallback to Comic Sans */
    @font-face {
      font-family: 'OpenDyslexic';
      src: url('https://cdn.jsdelivr.net/npm/opendyslexic@latest/open-dyslexic-regular.woff') format('woff');
      font-weight: normal;
      font-style: normal;
      font-display: swap;
    }

    html[data-chat-font="dyslexic"] .chat-font-scope {
      font-family: 'OpenDyslexic', 'Comic Sans MS', 'Chalkboard SE', sans-serif;
      line-height: 1.6;
    }

    /* Ensure inputs inherit the font too */
    html[data-chat-font] .chat-font-scope textarea,
    html[data-chat-font] .chat-font-scope input,
    html[data-chat-font] .chat-font-scope .markdown-body {
      font-family: inherit;
    }

    /* Tailwind Config Helper Classes match Settings */
    .font-serif-claude {
      font-family: 'Source Serif 4', serif;
    }
  </style>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: {
            claude: {
              bg: 'var(--bg-claude-main)',
              sidebar: 'var(--bg-claude-sidebar)',
              border: 'var(--border-claude)',
              text: 'var(--text-claude-main)',
              textSecondary: 'var(--text-claude-secondary)',
              accent: 'var(--bg-claude-accent)',
              hover: 'var(--bg-claude-hover)',
              btnHover: 'var(--bg-claude-btn-hover)',
              input: 'var(--bg-claude-input)',
              avatar: 'var(--bg-claude-avatar)',
              avatarText: 'var(--text-claude-avatar)',
            }
          },
          fontFamily: {
            sans: ['Figtree', 'sans-serif'],
            serif: ['Source Serif 4', 'serif'],
          }
        }
      }
    }
  </script>
  <script type="importmap">
{
  "imports": {
    "lucide-react": "https://esm.sh/lucide-react@^0.563.0",
    "react-dom/": "https://esm.sh/react-dom@^19.2.4/",
    "react": "https://esm.sh/react@^19.2.4",
    "react/": "https://esm.sh/react@^19.2.4/",
    "react-router-dom": "https://esm.sh/react-router-dom@6.22.3?external=react,react-dom",
    "@remix-run/router": "https://esm.sh/@remix-run/router@1.15.3",
    "react-markdown": "https://esm.sh/react-markdown@9.0.1?bundle"
  }
}
</script>
</head>

<body>
  <div id="root"></div>
  <script type="module" src="/index.tsx"></script>
</body>

</html>